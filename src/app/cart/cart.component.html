<app-free-delivery-banner></app-free-delivery-banner>

<div class="container">
  <h1>Carrinho</h1>
  <div class="min-order" *ngIf="subtotal <= 50 && cartItems.length > 0" >
  <p>The minimum order is R$50.00, your order is R$ {{ subtotal }}.</p>
  </div>
  <div *ngIf="cartItems.length > 0; else emptyCart">
    <table>
      <tr *ngFor="let item of cartItems">
        <td><button mat-button (click)="removeFromCart(item)">x</button></td>
        <td><img [src]="item.randomImageUrl" alt="{{item.name}}"></td>
        <td>{{ subtotal }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.price }}</td>
        <!-- <td><input type="number" [(ngModel)]="item.quantity"></td> -->
        <td>{{ item.price * item.quantity }}</td>
      </tr>
    </table>
    <div>
      <input type="text" placeholder="Coupon code">
      <button mat-button>Add</button>
      <button mat-button>Update Cart</button>
    </div>
    <div class="summary">
      <div class="suggestion">
        <app-product-card></app-product-card>
      </div>
      <table>
        <tr>
          <td>Subtotal</td>
          <td>{{ subtotal }}</td>
        </tr>
        <tr>
          <td>Delivery</td>
          <td><button mat-button>Calculate Shipping</button></td>
        </tr>
        <tr>
          <td>Total</td>
          <td>{{ total }}</td>
        </tr>
      </table>
    </div>
  </div>
  <ng-template #emptyCart>
    <p>Carrinho vazio.</p>
  </ng-template>
</div>
